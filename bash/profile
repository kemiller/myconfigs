
## 
## Environment
##

export PATH=~/bin:~/bin/depot_tools:~/svn/main/tools:~/Applications/MacVim/Contents/MacOS:"~/Library/PLT Scheme v4.2.2/bin":/usr/local/bin:/usr/local/sbin:/opt/local/sbin:/opt/local/bin:/usr/local/mysql/bin:$PATH
export MANPATH=/opt/local/man:$MANPATH
export COLORTERM=1 
export EDITOR=vim
export GREP_OPTIONS="--color=auto"

export RUBYROOT=/opt/local/lib/ruby

# Load development helpers
. ~/.config/bash/dd.sh

# Automatic bash completion for MacPorts (including git and svn)
if [ -f /opt/local/etc/bash_completion ]; then
	. /opt/local/etc/bash_completion
else
	. ~/.config/bash/git-completion.bash
fi

complete -o bashdefault -o default -o nospace -F _git g

git_dirty_flag() {
  git status 2> /dev/null | grep -c : | awk '{if ($1 > 0) print "⚡ "}'
}

export GIT_PS1_SHOWDIRTYSTATE=true
export GIT_PS1_DESCRIBE_STYLE=branch
export GIT_PS1_SHOWUNTRACKEDFILES=true
# Git stuff
#export PS1='\[\033]0;\w $(__git_ps1 "(%s) ")\007\]\h \w $(__git_ps1 "(%s) ")$(git_dirty_flag)➔  '
export PS1='\[\033]0;\w $(__git_ps1 "(%s) ")\007\]\h \w $(__git_ps1 "(%s) ")➔  '
alias g='git'
alias m='cd ~/main'
alias gf="git fetch"
alias gpl="git pull"
alias gps="git push"
alias gm="git merge"

function np () {
	function project_dir () {
		echo "$HOME/projects/nparty"
	}
	function am () {
		cd $(project_dir)/app/models/$1
	}
	gemup
	a
}

alias epoch='date -j -f "%a %b %d %T %Z %Y" "`date`" "+%s"'

alias vim=vi
alias ls="ls -CFG"
alias gvim="mvim"
alias ovim="mvim --remote-tab"
alias kicksilver="killall Quicksilver && open -a Quicksilver"
alias vibp="gvim ~/.bash_profile"
alias cap="cap -f ~/capistrano/Capfile"

alias killmergeinfo="svn propget -R svn:mergeinfo * | field 1 | xargs svn propdel svn:mergeinfo"

alias rslv="git status | grep unmerged | field 3 | xargs mvim -p"

function trash () {
	mv $* ~/.Trash
}

alias stts="svn status | egrep -v '^(X|Performing)' | uniq"

function shave_and_a_haircut() {
	echo -n 
	sleep 0.3
	echo -n 
	sleep 0.3
	echo -n 
	sleep 0.3
	echo -n 
	sleep 0.6
	echo -n 
	sleep 0.3
	echo -n 
}
	
##
# Your previous /Users/ken/.bash_profile file was backed up as /Users/ken/.bash_profile.macports-saved_2009-08-31_at_22:03:01
##

# MacPorts Installer addition on 2009-08-31_at_22:03:01: adding an appropriate PATH variable for use with MacPorts.
export PATH=/opt/local/bin:/opt/local/sbin:$PATH
# Finished adapting your PATH environment variable for use with MacPorts.

